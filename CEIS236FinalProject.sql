DROP SCHEMA IF EXISTS ceis236courseproject;
CREATE SCHEMA ceis236courseproject;
USE ceis236courseproject;

CREATE TABLE REGION (
REGION_ID varchar(10) PRIMARY KEY,
REGION_NAME varchar(50)
);
INSERT INTO REGION VALUES('1001','Northwest');
INSERT INTO REGION VALUES('1002','Southwest');
INSERT INTO REGION VALUES('1003','Northeast');
INSERT INTO REGION VALUES('1004','Southeast');
INSERT INTO REGION VALUES('1005','Central');

CREATE TABLE CUSTOMER (
CUS_ID int PRIMARY KEY,
CUS_NAME varchar(50),
CUS_PHONE varchar(50),
REGION_ID varchar(10),
FOREIGN KEY (REGION_ID) REFERENCES REGION(REGION_ID)
);
INSERT INTO CUSTOMER VALUES('1','Bellsouth','222-333-4571','1003');
INSERT INTO CUSTOMER VALUES('2','Comcast','253-444-5555','1003');
INSERT INTO CUSTOMER VALUES('3','Enron','367-555-6666','1005');
INSERT INTO CUSTOMER VALUES('4','Exxon','444-777-7777','1004');

CREATE TABLE EMPLOYEE (
EMP_ID varchar(10) PRIMARY KEY,
EMP_LNAME varchar(50),
EMP_FNAME varchar(50),
EMP_HIREDATE date,
REGION_ID varchar(10),
FOREIGN KEY (REGION_ID) REFERENCES REGION(REGION_ID)
);
INSERT INTO EMPLOYEE VALUES('E01','Mohammed Hussein','Jawad','2001-2-7','1004');
INSERT INTO EMPLOYEE VALUES('E02','Craig','Brett','2019-3-30','1004');
INSERT INTO EMPLOYEE VALUES('E03','Williams','Josh','1999-3-17','1005');
INSERT INTO EMPLOYEE VALUES('E04','Cope','Leslie','2017-4-21','1002');
INSERT INTO EMPLOYEE VALUES('E05','Mudd','Roger','2007-10-18','1001');
INSERT INTO EMPLOYEE VALUES('E06','Robbins','Erin','2001-8-25','1005');
INSERT INTO EMPLOYEE VALUES('E07','Burklow','Shan','2000-11-26','1001');
INSERT INTO EMPLOYEE VALUES('E09','Kattan','Chris','2000-5-31','1002');
INSERT INTO EMPLOYEE VALUES('E10','Pascoe','Jonathan','2001-7-14','1003');
INSERT INTO EMPLOYEE VALUES('E11','Batts','Melissa','2001-9-16','1004');
INSERT INTO EMPLOYEE VALUES('E12','Cope','Leslie','1999-10-31','1005');
INSERT INTO EMPLOYEE VALUES('E13','Bible','Hanah','2000-6-8','1002');
INSERT INTO EMPLOYEE VALUES('E15','Newton','Christopher','2001-2-28','1003');
INSERT INTO EMPLOYEE VALUES('E16','Smith','Mary','1999-3-8','1001');
INSERT INTO EMPLOYEE VALUES('E17','Underwood','Trish','1998-10-21','1004');
INSERT INTO EMPLOYEE VALUES('E19','Mudd','Roger','1999-12-1','1005');
INSERT INTO EMPLOYEE VALUES('E20','Kenyon','Tiffany','2001-4-28','1002');
INSERT INTO EMPLOYEE VALUES('E21','Ephanor','Victor','2000-3-2','1001');
INSERT INTO EMPLOYEE VALUES('E22','Summers','Anna','1999-1-1','1001');
INSERT INTO EMPLOYEE VALUES('E23','Smith','Jose','1998-2-6','1001');
INSERT INTO EMPLOYEE VALUES('E24','Rogers','Adam','2000-4-6','1001');
INSERT INTO EMPLOYEE VALUES('E25','Zebras','Steve','2000-4-5','1001');
INSERT INTO EMPLOYEE VALUES('E26','Ellis','Maria','2000-8-7','1001');
INSERT INTO EMPLOYEE VALUES('E27','Duarte','Miriam','2000-12-3','1001');
INSERT INTO EMPLOYEE VALUES('E28','Bush','Emily','1999-6-5','1001');
INSERT INTO EMPLOYEE VALUES('E29','Kilby','Surgena','2000-4-1','1001');
INSERT INTO EMPLOYEE VALUES('E30','Connor','Sean','1998-4-15','1001');


CREATE TABLE SKILL (
SKILL_ID varchar(10) PRIMARY KEY,
SKILL_DESCRIPTION varchar(50),
SKILL_RATE decimal(8,2)
);
INSERT INTO SKILL VALUES('S01','Data Entry I','12');
INSERT INTO SKILL VALUES('S02','Java I','25');
INSERT INTO SKILL VALUES('S03','Python I','25');
INSERT INTO SKILL VALUES('S04','Python II','35');
INSERT INTO SKILL VALUES('S05','Database Designer I','50');
INSERT INTO SKILL VALUES('S06','Database Designer II','75');
INSERT INTO SKILL VALUES('S07','Java I','25');
INSERT INTO SKILL VALUES('S08','Java II','30');
INSERT INTO SKILL VALUES('S09','C++ I','35');
INSERT INTO SKILL VALUES('S10','C++ II','45');
INSERT INTO SKILL VALUES('S11','Python I','25');
INSERT INTO SKILL VALUES('S12','Python II','35');
INSERT INTO SKILL VALUES('S13','Cold Fusion I','60');
INSERT INTO SKILL VALUES('S14','Cold Fusion II','75');
INSERT INTO SKILL VALUES('S15','ASP I','60');
INSERT INTO SKILL VALUES('S16','ASP II','70');
INSERT INTO SKILL VALUES('S17','Web Administrator','50');
INSERT INTO SKILL VALUES('S18','Oracle DBA','100');
INSERT INTO SKILL VALUES('S19','SQL Server DBA','100');
INSERT INTO SKILL VALUES('S20','Network Eng. I','80');
INSERT INTO SKILL VALUES('S21','Network Eng. II','100');
INSERT INTO SKILL VALUES('S22','Technical Writer','100');
INSERT INTO SKILL VALUES('S23','Project Manager','70');

CREATE TABLE EMPSKILL (
SKILL_ID varchar(10),
EMP_ID varchar(10),
PRIMARY KEY (SKILL_ID, EMP_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
); 
INSERT INTO EMPSKILL VALUES('S01','E01');
INSERT INTO EMPSKILL VALUES('S01','E04');
INSERT INTO EMPSKILL VALUES('S01','E17');
INSERT INTO EMPSKILL VALUES('S02','E04');
INSERT INTO EMPSKILL VALUES('S02','E01');
INSERT INTO EMPSKILL VALUES('S03','E02');
INSERT INTO EMPSKILL VALUES('S03','E03');
INSERT INTO EMPSKILL VALUES('S03','E06');
INSERT INTO EMPSKILL VALUES('S03','E28');
INSERT INTO EMPSKILL VALUES('S03','E25');
INSERT INTO EMPSKILL VALUES('S04','E05');
INSERT INTO EMPSKILL VALUES('S04','E07');
INSERT INTO EMPSKILL VALUES('S04','E06');
INSERT INTO EMPSKILL VALUES('S05','E08');
INSERT INTO EMPSKILL VALUES('S05','E16');
INSERT INTO EMPSKILL VALUES('S06','E08');
INSERT INTO EMPSKILL VALUES('S06','E10');
INSERT INTO EMPSKILL VALUES('S07','E09');
INSERT INTO EMPSKILL VALUES('S07','E21');
INSERT INTO EMPSKILL VALUES('S07','E22');
INSERT INTO EMPSKILL VALUES('S07','E26');
INSERT INTO EMPSKILL VALUES('S08','E09');
INSERT INTO EMPSKILL VALUES('S08','E21');
INSERT INTO EMPSKILL VALUES('S08','E11');
INSERT INTO EMPSKILL VALUES('S09','E23');
INSERT INTO EMPSKILL VALUES('S09','E24');
INSERT INTO EMPSKILL VALUES('S09','E12');
INSERT INTO EMPSKILL VALUES('S10','E24');
INSERT INTO EMPSKILL VALUES('S10','E13');
INSERT INTO EMPSKILL VALUES('S11','E25');
INSERT INTO EMPSKILL VALUES('S11','E26');
INSERT INTO EMPSKILL VALUES('S12','E25');
INSERT INTO EMPSKILL VALUES('S12','E15');
INSERT INTO EMPSKILL VALUES('S13','E27');
INSERT INTO EMPSKILL VALUES('S13','E28');
INSERT INTO EMPSKILL VALUES('S14','E28');
INSERT INTO EMPSKILL VALUES('S14','E15');
INSERT INTO EMPSKILL VALUES('S15','E27');
INSERT INTO EMPSKILL VALUES('S15','E28');
INSERT INTO EMPSKILL VALUES('S16','E27');
INSERT INTO EMPSKILL VALUES('S16','E15');
INSERT INTO EMPSKILL VALUES('S17','E23');
INSERT INTO EMPSKILL VALUES('S17','E10');
INSERT INTO EMPSKILL VALUES('S18','E08');
INSERT INTO EMPSKILL VALUES('S18','E23');
INSERT INTO EMPSKILL VALUES('S19','E28');
INSERT INTO EMPSKILL VALUES('S19','E16');
INSERT INTO EMPSKILL VALUES('S20','E28');
INSERT INTO EMPSKILL VALUES('S20','E16');
INSERT INTO EMPSKILL VALUES('S21','E28');
INSERT INTO EMPSKILL VALUES('S21','E16');
INSERT INTO EMPSKILL VALUES('S21','E15');
INSERT INTO EMPSKILL VALUES('S22','E29');
INSERT INTO EMPSKILL VALUES('S22','E18');
INSERT INTO EMPSKILL VALUES('S23','E14');
INSERT INTO EMPSKILL VALUES('S23','E19');
INSERT INTO EMPSKILL VALUES('S23','E20');
INSERT INTO EMPSKILL VALUES('S23','E30');

CREATE TABLE PROJECT (
PROJ_ID int PRIMARY KEY,
PROJ_DATE date,
PROJ_DESC varchar(50),
PROJ_ESTSTARTDATE date,
PROJ_ESTENDDATE date,
PROJ_BUDGET decimal (10,2),
CUS_ID int,
EMP_ID varchar(10),
FOREIGN KEY (CUS_ID) REFERENCES CUSTOMER(CUS_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
);
INSERT INTO PROJECT VALUES('1','2018-02-12','SALES MANAGEMENT SYSTEM','2018-03-01', '2018-07-01','15500','1', 'E30');

CREATE TABLE TASK (
TASK_ID int PRIMARY KEY,
TASK_DESC varchar(50),
TASK_STARTDATE date,
TASK_ENDDATE date,
PROJ_ID int,
FOREIGN KEY (PROJ_ID) REFERENCES PROJECT(PROJ_ID)
);
INSERT INTO TASK VALUES('1', 'Initial interview','2018-03-01', '2018-03-06','1');
INSERT INTO TASK VALUES('2', 'Database design','2018-03-11', '2018-03-15','1');
INSERT INTO TASK VALUES('3', 'System design','2018-03-11', '2018-04-12','1');
INSERT INTO TASK VALUES('4', 'Database implementation','2018-03-18', '2018-03-22','1');
INSERT INTO TASK VALUES('5', 'System coding and testing','2018-03-25', '2018-05-20','1');
INSERT INTO TASK VALUES('6', 'System documentation','2018-03-25', '2018-06-07','1');
INSERT INTO TASK VALUES('7', 'Final evaluation','2018-06-10', '2018-06-14','1');
INSERT INTO TASK VALUES('8', 'On-site system online and data loading','2018-06-17', '2018-06-21','1');
INSERT INTO TASK VALUES('9', 'Sign-off','2018-07-01', '2018-07-01','1');

CREATE TABLE TASKSCHEDULE (
TASKSCH_ID int PRIMARY KEY,
TASK_ID int,
SKILL_ID varchar(10),
TASKSCH_QTY int,
FOREIGN KEY (TASK_ID) REFERENCES TASK(TASK_ID),
FOREIGN KEY (SKILL_ID) REFERENCES SKILL(SKILL_ID)
);
INSERT INTO TASKSCHEDULE VALUES('1','1','23','1');
INSERT INTO TASKSCHEDULE VALUES('2','1','4','1');
INSERT INTO TASKSCHEDULE VALUES('3','1','5','1');
INSERT INTO TASKSCHEDULE VALUES('4','2','5','1');
INSERT INTO TASKSCHEDULE VALUES('5','3','4','1');
INSERT INTO TASKSCHEDULE VALUES('6','3','3','2');
INSERT INTO TASKSCHEDULE VALUES('7','4','18','1');
INSERT INTO TASKSCHEDULE VALUES('8','5','7','2');
INSERT INTO TASKSCHEDULE VALUES('9','5','8','1');
INSERT INTO TASKSCHEDULE VALUES('10','5','18','1');
INSERT INTO TASKSCHEDULE VALUES('11','6','22','1');
INSERT INTO TASKSCHEDULE VALUES('12','7','23','1');
INSERT INTO TASKSCHEDULE VALUES('13','7','4','1');
INSERT INTO TASKSCHEDULE VALUES('14','7','5','1');
INSERT INTO TASKSCHEDULE VALUES('15','7','8','1');
INSERT INTO TASKSCHEDULE VALUES('16','8','23','1');
INSERT INTO TASKSCHEDULE VALUES('17','8','4','1');
INSERT INTO TASKSCHEDULE VALUES('18','8','5','1');
INSERT INTO TASKSCHEDULE VALUES('19','8','8','1');
INSERT INTO TASKSCHEDULE VALUES('20','9','23','1');

CREATE TABLE ASSIGNMENT (
ASSIGN_ID int PRIMARY KEY,
TASKSCH_ID int,
EMP_ID varchar(10),
ASSIGN_STARTDATE date,
ASSIGN_ENDDATE date,
FOREIGN KEY (TASKSCH_ID) REFERENCES TASKSCHEDULE(TASKSCH_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
);
INSERT INTO ASSIGNMENT VALUES('101','1','E30','2018-03-01','2018-03-06');
INSERT INTO ASSIGNMENT VALUES('102','2','E7','2018-03-01','2018-03-06');
INSERT INTO ASSIGNMENT VALUES('103','3','E16','2018-03-01','2018-03-06');
INSERT INTO ASSIGNMENT VALUES('104','4','E16','2018-03-11','2018-03-14');
INSERT INTO ASSIGNMENT VALUES('105','5','E7','2018-03-11',NULL);
INSERT INTO ASSIGNMENT VALUES('106','6','E28','2018-03-11',NULL);
INSERT INTO ASSIGNMENT VALUES('107','6','E25','2018-03-11',NULL);
INSERT INTO ASSIGNMENT VALUES('108','7','E23','2018-03-15','2018-03-19');
INSERT INTO ASSIGNMENT VALUES('109','8','E22','2018-03-21',NULL);
INSERT INTO ASSIGNMENT VALUES('110','8','E26','2018-03-21',NULL);
INSERT INTO ASSIGNMENT VALUES('111','9','E21','2018-03-21',NULL);
INSERT INTO ASSIGNMENT VALUES('112','10','E23','2018-03-21',NULL);
INSERT INTO ASSIGNMENT VALUES('113','11','E29','2018-03-25',NULL);

CREATE TABLE BILL (
BILL_ID int PRIMARY KEY,
PROJ_ID int,
BILL_DATE date,
FOREIGN KEY (PROJ_ID) REFERENCES PROJECT(PROJ_ID)
);
INSERT INTO BILL VALUES('100','1','2018-03-15');

CREATE TABLE WORKLOG (
WORKLOG_ID int PRIMARY KEY,
WORKLOG_DATE date,
ASSIGN_ID int,
WORKLOG_HOURS int,
BILL_ID int,
FOREIGN KEY (ASSIGN_ID) REFERENCES ASSIGNMENT(ASSIGN_ID),
FOREIGN KEY (BILL_ID) REFERENCES BILL(BILL_ID)
);
INSERT INTO WORKLOG VALUES('1','2018-03-01','102','4','100');
INSERT INTO WORKLOG VALUES('2','2018-03-01','101','4','100');
INSERT INTO WORKLOG VALUES('3','2018-03-01','103','4','100');
INSERT INTO WORKLOG VALUES('4','2018-03-08','102','24','100');
INSERT INTO WORKLOG VALUES('5','2018-03-08','101','24','100');
INSERT INTO WORKLOG VALUES('6','2018-03-08','103','24','100');
INSERT INTO WORKLOG VALUES('7','2018-03-15','105','40','100');
INSERT INTO WORKLOG VALUES('8','2018-03-15','106','40','100');
INSERT INTO WORKLOG VALUES('9','2018-03-15','108','6','100');
INSERT INTO WORKLOG VALUES('10','2018-03-15','104','32','100');
INSERT INTO WORKLOG VALUES('11','2018-03-15','107','35','100');
INSERT INTO WORKLOG VALUES('12','2018-03-22','105','40',NULL);
INSERT INTO WORKLOG VALUES('13','2018-03-22','106','40',NULL);
INSERT INTO WORKLOG VALUES('14','2018-03-22','110','12',NULL);
INSERT INTO WORKLOG VALUES('15','2018-03-22','111','12',NULL);
INSERT INTO WORKLOG VALUES('16','2018-03-22','108','12',NULL); 
INSERT INTO WORKLOG VALUES('17','2018-03-22','112','12',NULL); 
INSERT INTO WORKLOG VALUES('18','2018-03-22','109','12',NULL);   
INSERT INTO WORKLOG VALUES('19','2018-03-22','107','35',NULL); 
INSERT INTO WORKLOG VALUES('20','2018-03-29','105','40',NULL);  
INSERT INTO WORKLOG VALUES('21','2018-03-29','106','40',NULL); 
INSERT INTO WORKLOG VALUES('22','2018-03-29','110','35',NULL);   
INSERT INTO WORKLOG VALUES('23','2018-03-29','111','35',NULL); 
INSERT INTO WORKLOG VALUES('24','2018-03-29','113','40',NULL);  
INSERT INTO WORKLOG VALUES('25','2018-03-29','112','35',NULL); 	  
INSERT INTO WORKLOG VALUES('26','2018-03-29','109','35',NULL); 
INSERT INTO WORKLOG VALUES('27','2018-03-29','107','35',NULL); 	